(function(t,e,i){t.noop=t.noop||function(){};var n,o,s,a,l=0,c=t(e),r=t(document),d=t("html"),u=document.documentElement,f=e.VBArray&&!e.XMLHttpRequest,h="createTouch"in document&&!("onmousemove"in u)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),p="artDialog"+ +new Date,m=function(e,o,s){"string"!=typeof(e=e||{})&&1!==e.nodeType||(e={content:e,fixed:!h});var a,c=m.defaults,r=e.follow=1===this.nodeType&&this||e.follow;for(var d in c)e[d]===i&&(e[d]=c[d]);return t.each({ok:"yesFn",cancel:"noFn",close:"closeFn",init:"initFn",okVal:"yesText",cancelVal:"noText"},function(t,n){e[t]=e[t]!==i?e[t]:e[n]}),"string"==typeof r&&(r=t(r)[0]),e.id=r&&r[p+"follow"]||e.id||p+l,a=m.list[e.id],r&&a?a.follow(r).zIndex().focus():a?a.zIndex().focus():(h&&(e.fixed=!1),t.isArray(e.button)||(e.button=e.button?[e.button]:[]),o!==i&&(e.ok=o),s!==i&&(e.cancel=s),e.ok&&e.button.push({name:e.okVal,callback:e.ok,focus:!0}),e.cancel&&e.button.push({name:e.cancelVal,callback:e.cancel}),m.defaults.zIndex=e.zIndex,l++,m.list[e.id]=n?n._init(e):new m.fn._init(e))};if(m.fn=m.prototype={version:"4.1.7",closed:!0,_init:function(t){var i,o=this,s=t.icon,a=s&&(f?{png:"icons/"+s+".png"}:{backgroundImage:"url('"+t.path+"/skins/icons/"+s+".png')"});return o.closed=!1,o.config=t,o.DOM=i=o.DOM||o._getDOM(),i.wrap.addClass(t.skin),i.close[!1===t.cancel?"hide":"show"](),i.icon[0].style.display=s?"":"none",i.iconBg.css(a||{background:"none"}),i.se.css("cursor",t.resize?"se-resize":"auto"),i.title.css("cursor",t.drag?"move":"auto"),i.content.css("padding",t.padding),o[t.show?"show":"hide"](!0),o.button(t.button).title(t.title).content(t.content,!0).size(t.width,t.height).time(t.time),t.follow?o.follow(t.follow):o.position(t.left,t.top),o.zIndex().focus(),t.lock&&o.lock(),o._addEvent(),o._ie6PngFix(),n=null,t.init&&t.init.call(o,e),o},content:function(t){var e,n,o,s,a=this,l=a.DOM,c=l.wrap[0],r=c.offsetWidth,d=c.offsetHeight,u=parseInt(c.style.left),f=parseInt(c.style.top),h=c.style.width,p=l.content,m=p[0];return a._elemBack&&a._elemBack(),c.style.width="auto",t===i?m:("string"==typeof t?p.html(t):t&&1===t.nodeType&&(s=t.style.display,e=t.previousSibling,n=t.nextSibling,o=t.parentNode,a._elemBack=function(){e&&e.parentNode?e.parentNode.insertBefore(t,e.nextSibling):n&&n.parentNode?n.parentNode.insertBefore(t,n):o&&o.appendChild(t),t.style.display=s,a._elemBack=null},p.html(""),m.appendChild(t),t.style.display="block"),arguments[1]||(a.config.follow?a.follow(a.config.follow):(r=c.offsetWidth-r,d=c.offsetHeight-d,u-=r/2,f-=d/2,c.style.left=Math.max(u,0)+"px",c.style.top=Math.max(f,0)+"px"),h&&"auto"!==h&&(c.style.width=c.offsetWidth+"px"),a._autoPositionType()),a._ie6SelectFix(),a._runScript(m),a)},title:function(t){var e=this.DOM,n=e.wrap,o=e.title,s="aui_state_noTitle";return t===i?o[0]:(!1===t?(o.hide().html(""),n.addClass(s)):(o.show().html(t||""),n.removeClass(s)),this)},position:function(t,e){var n=this,o=n.config,s=n.DOM.wrap[0],a=!f&&o.fixed,l=f&&n.config.fixed,d=r.scrollLeft(),u=r.scrollTop(),h=a?0:d,p=a?0:u,m=c.width(),g=c.height(),_=s.offsetWidth,v=s.offsetHeight,x=s.style;return(t||0===t)&&(n._left=-1!==t.toString().indexOf("%")?t:null,"number"==typeof(t=n._toNumber(t,m-_))?(t=l?t+=d:t+h,x.left=Math.max(t,h)+"px"):"string"==typeof t&&(x.left=t)),(e||0===e)&&(n._top=-1!==e.toString().indexOf("%")?e:null,"number"==typeof(e=n._toNumber(e,g-v))?(e=l?e+=u:e+p,x.top=Math.max(e,p)+"px"):"string"==typeof e&&(x.top=e)),t!==i&&e!==i&&(n._follow=null,n._autoPositionType()),n},size:function(t,e){var i,n,o,s,a=this,l=(a.config,a.DOM),r=l.wrap,d=l.main,u=r[0].style,f=d[0].style;return t&&(a._width=-1!==t.toString().indexOf("%")?t:null,i=c.width()-r[0].offsetWidth+d[0].offsetWidth,o=a._toNumber(t,i),"number"==typeof(t=o)?(u.width="auto",f.width=Math.max(a.config.minWidth,t)+"px",u.width=r[0].offsetWidth+"px"):"string"==typeof t&&(f.width=t,"auto"===t&&r.css("width","auto"))),e&&(a._height=-1!==e.toString().indexOf("%")?e:null,n=c.height()-r[0].offsetHeight+d[0].offsetHeight,s=a._toNumber(e,n),"number"==typeof(e=s)?f.height=Math.max(a.config.minHeight,e)+"px":"string"==typeof e&&(f.height=e)),a._ie6SelectFix(),a},follow:function(e){var i,n=this,o=n.config;if(("string"==typeof e||e&&1===e.nodeType)&&(i=t(e),e=i[0]),!e||!e.offsetWidth&&!e.offsetHeight)return n.position(n._left,n._top);var s=p+"follow",a=c.width(),l=c.height(),d=r.scrollLeft(),u=r.scrollTop(),h=i.offset(),m=e.offsetWidth,g=e.offsetHeight,_=!f&&o.fixed,v=_?h.left-d:h.left,x=_?h.top-u:h.top,y=n.DOM.wrap[0],b=y.style,w=y.offsetWidth,k=y.offsetHeight,M=v-(w-m)/2,D=x+g,T=_?0:d,O=_?0:u;return M=M<T?v:M+w>a&&v-w>T?v-w+m:M,D=D+k>l+O&&x-k>O?x-k:D,b.left=M+"px",b.top=D+"px",n._follow&&n._follow.removeAttribute(s),n._follow=e,e[s]=o.id,n._autoPositionType(),n},button:function(){var e=this,n=arguments,o=e.DOM.buttons,s=o[0],a="aui_state_highlight",l=e._listeners=e._listeners||{},c=t.isArray(n[0])?n[0]:[].slice.call(n);return n[0]===i?s:(t.each(c,function(i,n){var o=n.name,c=!l[o],r=c?document.createElement("button"):l[o].elem;l[o]||(l[o]={}),n.callback&&(l[o].callback=n.callback),n.className&&(r.className=n.className),n.focus&&(e._focus&&e._focus.removeClass(a),e._focus=t(r).addClass(a),e.focus()),r.setAttribute("type","button"),r[p+"callback"]=o,r.disabled=!!n.disabled,c&&(r.innerHTML=o,l[o].elem=r,s.appendChild(r))}),o[0].style.display=c.length?"":"none",e._ie6SelectFix(),e)},show:function(){return this.DOM.wrap.show(),!arguments[0]&&this._lockMaskWrap&&this._lockMaskWrap.show(),this},hide:function(){return this.DOM.wrap.hide(),!arguments[0]&&this._lockMaskWrap&&this._lockMaskWrap.hide(),this},close:function(){if(this.closed)return this;var t=this,i=t.DOM,o=i.wrap,s=m.list,a=t.config.close,l=t.config.follow;if(t.time(),"function"==typeof a&&!1===a.call(t,e))return t;t.unlock(),t._elemBack&&t._elemBack(),o[0].className=o[0].style.cssText="",i.title.html(""),i.content.html(""),i.buttons.html(""),m.focus===t&&(m.focus=null),l&&l.removeAttribute(p+"follow"),delete s[t.config.id],t._removeEvent(),t.hide(!0)._setAbsolute();for(var c in t)t.hasOwnProperty(c)&&"DOM"!==c&&delete t[c];return n?o.remove():n=t,t},time:function(t){var e=this,i=e.config.cancelVal,n=e._timer;return n&&clearTimeout(n),t&&(e._timer=setTimeout(function(){e._click(i)},1e3*t)),e},focus:function(){try{if(this.config.focus){var t=this._focus&&this._focus[0]||this.DOM.close[0];t&&t.focus()}}catch(t){}return this},zIndex:function(){var t=this,e=t.DOM.wrap,i=m.focus,n=m.defaults.zIndex++;return e.css("zIndex",n),t._lockMask&&t._lockMask.css("zIndex",n-1),i&&i.DOM.wrap.removeClass("aui_state_focus"),m.focus=t,e.addClass("aui_state_focus"),t},lock:function(){if(this._lock)return this;var e=this,i=m.defaults.zIndex-1,n=e.DOM.wrap,o=e.config,s=r.width(),a=r.height(),l=e._lockMaskWrap||t(document.body.appendChild(document.createElement("div"))),c=e._lockMask||t(l[0].appendChild(document.createElement("div"))),d="(document).documentElement",u=h?"width:"+s+"px;height:"+a+"px":"width:100%;height:100%",p=f?"position:absolute;left:expression("+d+".scrollLeft);top:expression("+d+".scrollTop);width:expression("+d+".clientWidth);height:expression("+d+".clientHeight)":"";return e.zIndex(),n.addClass("aui_state_lock"),l[0].style.cssText=u+";position:fixed;z-index:"+i+";top:0;left:0;overflow:hidden;"+p,c[0].style.cssText="height:100%;background:"+o.background+";filter:alpha(opacity=0);opacity:0",f&&c.html('<iframe src="about:blank" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;filter:alpha(opacity=0)"></iframe>'),c.stop(),c.bind("click",function(){e._reset()}).bind("dblclick",function(){e._click(e.config.cancelVal)}),0===o.duration?c.css({opacity:o.opacity}):c.animate({opacity:o.opacity},o.duration),e._lockMaskWrap=l,e._lockMask=c,e._lock=!0,e},unlock:function(){var t=this,e=t._lockMaskWrap,i=t._lockMask;if(!t._lock)return t;var o=e[0].style,s=function(){f&&(o.removeExpression("width"),o.removeExpression("height"),o.removeExpression("left"),o.removeExpression("top")),o.cssText="display:none",n&&e.remove()};return i.stop().unbind(),t.DOM.wrap.removeClass("aui_state_lock"),t.config.duration?i.animate({opacity:0},t.config.duration,s):s(),t._lock=!1,t},_getDOM:function(){var e=document.createElement("div"),i=document.body;e.style.cssText="position:absolute;left:0;top:0",e.innerHTML=m._templates,i.insertBefore(e,i.firstChild);for(var n,o=0,s={wrap:t(e)},a=e.getElementsByTagName("*"),l=a.length;o<l;o++)(n=a[o].className.split("aui_")[1])&&(s[n]=t(a[o]));return s},_toNumber:function(t,e){if(!t&&0!==t||"number"==typeof t)return t;var i=t.length-1;return t.lastIndexOf("px")===i?t=parseInt(t):t.lastIndexOf("%")===i&&(t=parseInt(e*t.split("%")[0]/100)),t},_ie6PngFix:f?function(){for(var t,e,i,n,o=0,s=m.defaults.path+"/skins/",a=this.DOM.wrap[0].getElementsByTagName("*");o<a.length;o++)t=a[o],(e=t.currentStyle.png)&&(i=s+e,n=t.runtimeStyle,n.backgroundImage="none",n.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i+"',sizingMethod='crop')")}:t.noop,_ie6SelectFix:f?function(){var t=this.DOM.wrap,e=t[0],i=p+"iframeMask",n=t[i],o=e.offsetWidth,s=e.offsetHeight;o+="px",s+="px",n?(n.style.width=o,n.style.height=s):(n=e.appendChild(document.createElement("iframe")),t[i]=n,n.src="about:blank",n.style.cssText="position:absolute;z-index:-1;left:0;top:0;filter:alpha(opacity=0);width:"+o+";height:"+s)}:t.noop,_runScript:function(t){for(var e=0,i=0,n=t.getElementsByTagName("script"),o=n.length,s=[];e<o;e++)"text/dialog"===n[e].type&&(s[i]=n[e].innerHTML,i++);s.length&&(s=s.join(""),new Function(s).call(this))},_autoPositionType:function(){this[this.config.fixed?"_setFixed":"_setAbsolute"]()},_setFixed:(f&&t(function(){var e="backgroundAttachment";"fixed"!==d.css(e)&&"fixed"!==t("body").css(e)&&d.css({zoom:1,backgroundImage:"url(about:blank)",backgroundAttachment:"fixed"})}),function(){var t=this.DOM.wrap,e=t[0].style;if(f){var i=parseInt(t.css("left")),n=parseInt(t.css("top")),o=r.scrollLeft(),s=r.scrollTop(),a="(document.documentElement)";this._setAbsolute(),e.setExpression("left","eval("+a+".scrollLeft + "+(i-o)+') + "px"'),e.setExpression("top","eval("+a+".scrollTop + "+(n-s)+') + "px"')}else e.position="fixed"}),_setAbsolute:function(){var t=this.DOM.wrap[0].style;f&&(t.removeExpression("left"),t.removeExpression("top")),t.position="absolute"},_click:function(t){var i=this,n=i._listeners[t]&&i._listeners[t].callback;return"function"!=typeof n||!1!==n.call(i,e)?i.close():i},_reset:function(t){var e,i=this,n=i._winSize||c.width()*c.height(),o=i._follow,s=i._width,a=i._height,l=i._left,r=i._top;t&&(e=i._winSize=c.width()*c.height(),n===e)||((s||a)&&i.size(s,a),o?i.follow(o):(l||r)&&i.position(l,r))},_addEvent:function(){var t,i=this,n=i.config,o="CollectGarbage"in e,s=i.DOM;i._winResize=function(){t&&clearTimeout(t),t=setTimeout(function(){i._reset(o)},40)},c.bind("resize",i._winResize),s.wrap.bind("click",function(t){var e,o=t.target;return!o.disabled&&(o===s.close[0]?(i._click(n.cancelVal),!1):((e=o[p+"callback"])&&i._click(e),void i._ie6SelectFix()))}).bind("mousedown",function(){i.zIndex()})},_removeEvent:function(){var t=this;t.DOM.wrap.unbind(),c.unbind("resize",t._winResize)}},m.fn._init.prototype=m.fn,t.fn.dialog=t.fn.artDialog=function(){var t=arguments;return this[this.live?"live":"bind"]("click",function(){return m.apply(this,t),!1}),this},m.focus=null,m.get=function(t){return t===i?m.list:m.list[t]},m.list={},r.bind("keydown",function(t){var e=t.target.nodeName,i=/^INPUT|TEXTAREA$/,n=m.focus,o=t.keyCode;n&&n.config.esc&&!i.test(e)&&27===o&&n._click(n.config.cancelVal)}),a=e._artDialog_path||function(t,e,i){for(e in t)t[e].src&&-1!==t[e].src.indexOf("artDialog")&&(i=t[e]);return o=i||t[t.length-1],(i=o.src.replace(/\\/g,"/")).lastIndexOf("/")<0?".":i.substring(0,i.lastIndexOf("/"))}(document.getElementsByTagName("script")),s=o.src.split("skin=")[1]){var g=document.createElement("link");g.rel="stylesheet",g.href=a+"/skins/"+s+".css?"+m.fn.version,o.parentNode.insertBefore(g,o)}c.bind("load",function(){setTimeout(function(){l||m({left:"-9999em",time:9,fixed:!1,lock:!1,focus:!1})},150)});try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}m._templates='<div class="aui_outer"><table class="aui_border"><tbody><tr><td class="aui_nw"></td><td class="aui_n"></td><td class="aui_ne"></td></tr><tr><td class="aui_w"></td><td class="aui_c"><div class="aui_inner"><table class="aui_dialog"><tbody><tr><td colspan="2" class="aui_header"><div class="aui_titleBar"><div class="aui_title"></div><a class="aui_close" href="javascript:/*artDialog*/;">×</a></div></td></tr><tr><td class="aui_icon"><div class="aui_iconBg"></div></td><td class="aui_main"><div class="aui_content"></div></td></tr><tr><td colspan="2" class="aui_footer"><div class="aui_buttons"></div></td></tr></tbody></table></div></td><td class="aui_e"></td></tr><tr><td class="aui_sw"></td><td class="aui_s"></td><td class="aui_se"></td></tr></tbody></table></div>',m.defaults={content:'<div class="aui_loading"><span>loading..</span></div>',title:"消息",button:null,ok:null,cancel:null,init:null,close:null,okVal:"确定",cancelVal:"取消",width:"auto",height:"auto",minWidth:96,minHeight:32,padding:"20px 25px",skin:"",icon:null,time:null,esc:!0,focus:!0,show:!0,follow:null,path:a,lock:!1,background:"#000",opacity:.7,duration:300,fixed:!1,left:"50%",top:"38.2%",zIndex:1987,resize:!0,drag:!0},e.artDialog=t.dialog=t.artDialog=m})(this.art||this.jQuery&&(this.art=jQuery),this),function(t){var e,i,n=t(window),o=t(document),s=document.documentElement,a=!("minWidth"in s.style),l="onlosecapture"in s,c="setCapture"in s;artDialog.dragEvent=function(){var t=this,e=function(e){var i=t[e];t[e]=function(){return i.apply(t,arguments)}};e("start"),e("move"),e("end")},artDialog.dragEvent.prototype={onstart:t.noop,start:function(t){return o.bind("mousemove",this.move).bind("mouseup",this.end),this._sClientX=t.clientX,this._sClientY=t.clientY,this.onstart(t.clientX,t.clientY),!1},onmove:t.noop,move:function(t){return this._mClientX=t.clientX,this._mClientY=t.clientY,this.onmove(t.clientX-this._sClientX,t.clientY-this._sClientY),!1},onend:t.noop,end:function(t){return o.unbind("mousemove",this.move).unbind("mouseup",this.end),this.onend(t.clientX,t.clientY),!1}},i=function(t){var i,s,r,d,u,f,h=artDialog.focus,p=h.DOM,m=p.wrap,g=p.title,_=p.main,v="getSelection"in window?function(){window.getSelection().removeAllRanges()}:function(){try{document.selection.empty()}catch(t){}};e.onstart=function(t,i){f?(s=_[0].offsetWidth,r=_[0].offsetHeight):(d=m[0].offsetLeft,u=m[0].offsetTop),o.bind("dblclick",e.end),!a&&l?g.bind("losecapture",e.end):n.bind("blur",e.end),c&&g[0].setCapture(),m.addClass("aui_state_drag"),h.focus()},e.onmove=function(t,e){if(f){var n=m[0].style,o=_[0].style,a=t+s,l=e+r;n.width="auto",o.width=Math.max(0,a)+"px",n.width=m[0].offsetWidth+"px",o.height=Math.max(0,l)+"px"}else{var o=m[0].style,c=Math.max(i.minX,Math.min(i.maxX,t+d)),p=Math.max(i.minY,Math.min(i.maxY,e+u));o.left=c+"px",o.top=p+"px"}v(),h._ie6SelectFix()},e.onend=function(t,i){o.unbind("dblclick",e.end),!a&&l?g.unbind("losecapture",e.end):n.unbind("blur",e.end),c&&g[0].releaseCapture(),a&&!h.closed&&h._autoPositionType(),m.removeClass("aui_state_drag")},f=t.target===p.se[0],i=function(){var t,e=h.DOM.wrap[0],i="fixed"===e.style.position,s=e.offsetWidth,a=e.offsetHeight,l=n.width(),c=n.height(),r=i?0:o.scrollLeft(),d=i?0:o.scrollTop();return t=c-a+d,{minX:r,minY:d,maxX:l-s+r,maxY:t}}(),e.start(t)},o.bind("mousedown",function(t){var n=artDialog.focus;if(n){var o=t.target,s=n.config,a=n.DOM;return!1!==s.drag&&o===a.title[0]||!1!==s.resize&&o===a.se[0]?(e=e||new artDialog.dragEvent,i(t),!1):void 0}})}(this.art||this.jQuery&&(this.art=jQuery));