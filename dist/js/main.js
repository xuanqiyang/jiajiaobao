require.config({paths:{jquery:"lib/jquery",validate:"lib/jquery.validate.min",messages:"lib/messages_zh.min",superSlide:"lib/jquery.SuperSlide",lazyload:"lib/jquery.lazyload.min",art:"lib/jquery.artDialog",webuploader:"webuploader/webuploader"},shim:{validate:{deps:["jquery"],exports:"validate"},messages:{deps:["jquery","validate"],exports:"messages"},superSlide:{deps:["jquery"],exports:"superSlide"},lazyload:{deps:["jquery"],exports:"lazyload"},art:{deps:["jquery"],exports:"art"},webuploader:{exports:"webuploader"}}}),define("starScore",["jquery"],function(e){return{scoreFun:function(i,t){function n(e,t){var n=parseInt(e)+1,a=c*n,o=p*n;d=u>5?options.types[parseInt(e)]:options.types[parseInt(e)+10],i.find("a").removeClass("clibg"),t.addClass("clibg"),t.css({width:a,left:"0"}),s.text(o),r.text(d)}var a={fen_d:22,ScoreGrade:5,types:["很不满意","差得离谱","不满意","描述严重不符,不满意","一般","质量一般","没卖家描述的那么好","满意","质量不错,还是挺满意的","非常满意","很差","差","一般","好","很好"],parent:"star-score",nameScore:"fenshu",attitude:"attitude"};options=e.extend({},a,t);var o,d,s=i.find("."+options.nameScore),l=i.find("."+options.parent),r=i.find("."+options.attitude),c=options.fen_d,u=options.ScoreGrade;if(l.length>0){l.width(c*u);for(var p=5/u,f=0;f<u;f++){var v=e("<a href='javascript:void(0)'></a>");v.css({left:0,width:c*(f+1),"z-index":u-f}),v.appendTo(l)}e("#option-menu li").click(function(){n(4,l.find("a"))}),l.find("a").each(function(i,t){e(this).click(function(){o=i,n(i,e(this))}),e(this).mouseenter(function(){n(i,e(this))}),e(this).mouseleave(function(){if(o>=0){var i=p*(parseInt(o)+1);l.find("a").removeClass("clibg"),l.find("a").eq(o).addClass("clibg");var t=c*(parseInt(o)+1);l.find("a").eq(o).css({width:t,left:"0"}),s&&(s.text(i),e(".score").val(i))}else l.find("a").removeClass("clibg"),s&&(s.text(""),e(".score").val(""))})})}}}}),require(["jquery","webuploader"],function(e,i){!function(e,t){function n(n,d){if(!i.Uploader.support()){var s="上传控件不支持您的浏览器！请尝试升级flash版本或者使用Chrome引擎的浏览器。<a target='_blank' href='http://se.360.cn'>下载页面</a>";return t.console&&t.console.log(s),void e(n).text(s)}var l=e(n);if(!(l.find(".uploader-list").length>0)){var r={auto:!0,hiddenInputId:"uploadifyHiddenInputId",onAllComplete:function(e){},onComplete:function(e){},fileNumLimit:void 0,fileSizeLimit:void 0,fileSingleSizeLimit:void 0,PostbackHold:!1},c=e.extend(r,d),u=(e("#"+c.hiddenInputId),"");u="undefined"!=typeof guidGenerator36?guidGenerator36():(65536*(1+Math.random())|0).toString(16).substring(1);var p='<div class="webuploader">';p=c.auto?'<div  class="uploader-list"></div><div class="btns"><div id="'+u+'">选择文件</div></div>':'<div  class="uploader-list"></div><div class="btns"><div id="'+u+'">选择文件</div><button class="webuploadbtn">开始上传</button></div>',p+='<div style="display:none" class="UploadhiddenInput" >                         </div>',p+="</div>",l.append(p);var f=l.find(".uploader-list"),v=l.find(".webuploadbtn"),m="pending",h=l.find(".UploadhiddenInput"),g=e.extend({swf:a+"/Scripts/webuploader/Uploader.swf",server:"/Home/AddFile",deleteServer:"/Home/DeleteFile",pick:"#"+u,resize:!1,runtimeOrder:"flash",fileNumLimit:c.fileNumLimit,fileSizeLimit:c.fileSizeLimit,fileSingleSizeLimit:c.fileSingleSizeLimit,accept:{title:"Images",extensions:"gif,jpg,jpeg,bmp,png",mimeTypes:"image/*"}},c),b=i.create(g);o[e(n)[0].id]=b;var y=t.devicePixelRatio||1,w=110*y,x=110*y;c.auto?b.on("fileQueued",function(i){var t=e('<div id="'+e(n)[0].id+i.id+'" class="file-item thumbnail"><img><div class="info">'+i.name+"</div></div>");$img=t.find("img"),b.makeThumb(i,function(e,i){e?$img.replaceWith("<span>不能预览</span>"):$img.attr("src",i)},w,x),f.append(t),$btns=e('<div class="file-panel"><span class="cancel">删除</span>').appendTo(t),b.upload()}):b.on("fileQueued",function(i){var t=e('<div id="'+e(n)[0].id+i.id+'" class="file-item thumbnail"><img><div class="info">'+i.name+"</div></div>");$img=t.find("img"),b.makeThumb(i,function(e,i){e?$img.replaceWith("<span>不能预览</span>"):$img.attr("src",i)},w,x),f.append(t),$btns=e('<div class="file-panel"><span class="cancel">删除</span>').appendTo(t)}),b.on("uploadProgress",function(i,t){var a=e("#"+e(n)[0].id+i.id),o=a.find(".progress span");o.length||(o=e('<p class="progress"><span></span></p>').appendTo(a).find("span")),o.css("width",100*t+"%")}),b.on("uploadSuccess",function(i,t){e("#"+e(n)[0].id+i.id).addClass("upload-state-done");var a=e("#"+e(n)[0].id+i.id),o=a.find("div.error");o.length||(o=e('<div class="success"></div>').appendTo(a)),"error"==t.state?o.text(t.message):(o.text("上传完成"),h.append('<input type="text" id="hiddenInput'+e(n)[0].id+i.id+'" class="hiddenInput" value="'+t.message+'" />'))}),b.on("uploadError",function(i){var t=e("#"+e(n)[0].id+i.id),a=t.find("div.error");a.length||(a=e('<div class="error"></div>').appendTo(t)),a.text("上传失败")}),b.on("uploadComplete",function(i,t){e("#"+e(n)[0].id+i.id).find(".progress").remove()}),b.on("all",function(e){"startUpload"===e?m="uploading":"stopUpload"===e?m="paused":"uploadFinished"===e&&(m="done"),"uploading"===m?v.text("暂停上传"):v.text("开始上传")}),b.on("fileDequeued",function(i){var t=e("#hiddenInput"+e(n)[0].id+i.id).val();null!=t&&e.post(g.deleteServer,{fullName:t},function(e){}),e("#"+e(n)[0].id+i.id).remove(),e("#hiddenInput"+e(n)[0].id+i.id).remove()}),v.on("click",function(){"uploading"===m?b.stop():b.upload()}),f.on("click",".file-panel",function(){var i=(i=e(this).parent().attr("id")).replace(e(n)[0].id,""),t=b.getFile(i);b.removeFile(t)})}}var a=""===t.applicationPath?"":t.applicationPath||"../..",o=new Array;e.fn.CleanUpload=function(i){var t=o[e(this).attr("id")],n=t.getFiles();for(var a in n)t.removeFile(n[a])},e.fn.GetFilesAddress=function(i){var t=[];return e(this).find(".UploadhiddenInput").find(".hiddenInput").each(function(){t.push(e(this).val())}),t},e.fn.powerWebUpload=function(t){var o=this;if(void 0===i){var d=a+"/Scripts/webuploader/webuploader.css";e("<link>").attr({rel:"stylesheet",type:"text/css",href:d}).appendTo("head");var s=a+"/Scripts/webuploader/webuploader.min.js";e.getScript(s).done(function(){n(o,t)}).fail(function(){alert("请检查webuploader的路径是否正确!")})}else n(o,t)}}(jQuery,window),e("#uploader").powerWebUpload({auto:!1})}),require(["jquery","art","starScore"],function(e,i,t){function n(e){0==s?(e.removeAttribute("disabled"),e.innerText="获取验证码",s=60):(e.setAttribute("disabled",!0),e.innerText=s,s--,setTimeout(function(){n(e)},1e3))}t.scoreFun(e(".stars")),e(".rated span").each(function(i,t){var n=2*e(this).attr("tip")*11;e(this).css("width",n)});var a=document.getElementById("showServeTerms"),o=(document.getElementById("serveTermsDialog"),document.getElementById("getCode")),d=document.getElementById("cellphone"),s=60,l=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(17[0-9]{1}))+\d{8})$/,r=e(".form-tab label"),c=e(".form-body"),u=document.getElementById("showUploader");document.getElementById("uploaderDialog");r.bind("click",function(i){e(this).index()?c[0].action="http://www.baidu.com/":c[0].action="http://www.google.com/",e(this).addClass("active").siblings("label").removeClass("active")}),e(".selector .option").each(function(){e(this).find("dl dd a").click(function(){e(this).addClass("active").siblings().removeClass("active")})}),o&&(o.onclick=function(e){11==d.value.length&&l.test(d.value)?n(this):i.dialog({title:"登录提示",content:"请填写手机号码!",lock:!0,fixed:!0}).show()}),u&&(u.onclick=function(){i.dialog({title:"文件上传",lock:!0,fixed:!0,content:document.getElementById("uploaderDialog"),okVal:"保存",ok:function(){},cancelVal:"关闭",cancel:!0}).show()}),a&&(a.onclick=function(){i.dialog({title:"家教宝服务协议",lock:!0,fixed:!0,content:document.getElementById("serveTermsDialog"),okVal:"同意",ok:function(){document.getElementById("agreeServeTerms").checked="checked"},cancelVal:"关闭",cancel:!0}).show()})}),require(["jquery","lazyload","superSlide"],function(e){jQuery(".focus").hover(function(){jQuery(this).find(".prev,.next").stop(!0,!0).fadeTo("show",.2)},function(){jQuery(this).find(".prev,.next").fadeOut()}),jQuery(".focus").slide({mainCell:".pic",effect:"fold",autoPlay:!0,delayTime:600,trigger:"click"}),e("img.lazy").lazyload({placeholder:"../images/loading.gif",effect:"fadeIn"});var i=[],t=e(".search-form"),n=e(".placeholder"),a=e(".form-text");i.push(t.data("placeholder"),t.data("courseplaceholder"),t.data("orgplaceholder")),e(".search-tab .tab-item").click(function(){n.text(i[e(this).index()]),e(this).addClass("active").siblings(".tab-item").removeClass("active")}),a.each(function(){var i=e(this).siblings(".placeholder"),t=e(this);""!=e(this).val()?i.hide():i.show(),i.click(function(){t.trigger("focus")}),e(this).focus(function(){i.hide()}).blur(function(){""!=e(this).val()?i.hide():i.show()})});var o=e(".menu li"),d=e(".menu"),s=e(".sub-menu"),l=e(".sub-menu-content");e(".folder").length>0&&(d.css("display","none"),e(".menu-title").mouseover(function(){e(".menu").show()}),e(".all-couser").mouseleave(function(){e(".menu").hide(),o.removeClass("active")})),o.mouseover(function(){var i=e(this).index();o.removeClass("active"),e(this).addClass("active"),l.hide(),s.show(),l.eq(i).show()}),e(".menu-wrapper").mouseleave(function(){l.hide(),s.hide(),o.removeClass("active")})});